### ========================================
### üì° TESTES HUMAINZE - IoT e IA
### ========================================

@baseUrl = http://localhost:8080
@iaApiKey = chave-ia
@iotApiKey = chave-iot

### ========================================
### üîê AUTENTICA√á√ÉO
### ========================================

### Obter JWT - Time IA
POST {{baseUrl}}/auth/token
X-API-KEY: {{iaApiKey}}

###

### Obter JWT - Time IoT
POST {{baseUrl}}/auth/token
X-API-KEY: {{iotApiKey}}

###

### ========================================
### üìä M√âTRICAS IoT - SENSORES
### ========================================

### IoT: Enviar Temperatura
POST {{baseUrl}}/otel/v1/metrics
X-API-KEY: {{iotApiKey}}
Content-Type: application/json

{
  "teamTag": "IOT",
  "timestamp": "2025-11-20T14:30:00Z",
  "payloadJson": "{\"metric\":\"temperature\",\"value\":25.5,\"sensor\":\"DHT22\",\"location\":\"sala-1\",\"unit\":\"celsius\"}"
}

###

### IoT: Enviar Umidade
POST {{baseUrl}}/otel/v1/metrics
X-API-KEY: {{iotApiKey}}
Content-Type: application/json

{
  "teamTag": "IOT",
  "timestamp": "2025-11-20T14:30:00Z",
  "payloadJson": "{\"metric\":\"humidity\",\"value\":65.2,\"sensor\":\"DHT22\",\"location\":\"sala-1\",\"unit\":\"percent\"}"
}

###

### IoT: Enviar CO2
POST {{baseUrl}}/otel/v1/metrics
X-API-KEY: {{iotApiKey}}
Content-Type: application/json

{
  "teamTag": "IOT",
  "timestamp": "2025-11-20T14:31:00Z",
  "payloadJson": "{\"metric\":\"co2_ppm\",\"value\":850,\"sensor\":\"MQ135\",\"location\":\"sala-2\",\"threshold\":1000}"
}

###

### IoT: Enviar Luminosidade
POST {{baseUrl}}/otel/v1/metrics
X-API-KEY: {{iotApiKey}}
Content-Type: application/json

{
  "teamTag": "IOT",
  "timestamp": "2025-11-20T14:32:00Z",
  "payloadJson": "{\"metric\":\"brightness_percent\",\"value\":78,\"sensor\":\"LDR\",\"location\":\"sala-1\",\"unit\":\"percent\"}"
}

###

### IoT: Enviar Movimento
POST {{baseUrl}}/otel/v1/metrics
X-API-KEY: {{iotApiKey}}
Content-Type: application/json

{
  "teamTag": "IOT",
  "timestamp": "2025-11-20T14:33:00Z",
  "payloadJson": "{\"metric\":\"motion_detected\",\"value\":1,\"sensor\":\"PIR\",\"location\":\"porta-entrada\"}"
}

###

### IoT: Enviar Bateria do Dispositivo
POST {{baseUrl}}/otel/v1/metrics
X-API-KEY: {{iotApiKey}}
Content-Type: application/json

{
  "teamTag": "IOT",
  "timestamp": "2025-11-20T14:34:00Z",
  "payloadJson": "{\"metric\":\"battery_percent\",\"value\":87,\"device_id\":\"sensor-sala-1\",\"unit\":\"percent\"}"
}

###

### ========================================
### ü§ñ M√âTRICAS IA - MODELOS
### ========================================

### IA: Enviar Acur√°cia do Modelo
POST {{baseUrl}}/otel/v1/metrics
X-API-KEY: {{iaApiKey}}
Content-Type: application/json

{
  "teamTag": "IA",
  "timestamp": "2025-11-20T15:00:00Z",
  "payloadJson": "{\"metric\":\"model_accuracy\",\"value\":0.95,\"model\":\"v2.1\",\"dataset\":\"test_set\",\"epoch\":50}"
}

###

### IA: Enviar Loss do Modelo
POST {{baseUrl}}/otel/v1/metrics
X-API-KEY: {{iaApiKey}}
Content-Type: application/json

{
  "teamTag": "IA",
  "timestamp": "2025-11-20T15:01:00Z",
  "payloadJson": "{\"metric\":\"model_loss\",\"value\":0.12,\"model\":\"v2.1\",\"dataset\":\"training\",\"epoch\":50}"
}

###

### IA: Enviar Lat√™ncia de Infer√™ncia
POST {{baseUrl}}/otel/v1/metrics
X-API-KEY: {{iaApiKey}}
Content-Type: application/json

{
  "teamTag": "IA",
  "timestamp": "2025-11-20T15:02:00Z",
  "payloadJson": "{\"metric\":\"inference_time_ms\",\"value\":125,\"model\":\"v2.1\",\"endpoint\":\"/predict\",\"batch_size\":32}"
}

###

### IA: Enviar Precis√£o (Precision)
POST {{baseUrl}}/otel/v1/metrics
X-API-KEY: {{iaApiKey}}
Content-Type: application/json

{
  "teamTag": "IA",
  "timestamp": "2025-11-20T15:03:00Z",
  "payloadJson": "{\"metric\":\"model_precision\",\"value\":0.92,\"model\":\"v2.1\",\"class\":\"anomaly\",\"dataset\":\"test\"}"
}

###

### IA: Enviar Recall (Sensitivity)
POST {{baseUrl}}/otel/v1/metrics
X-API-KEY: {{iaApiKey}}
Content-Type: application/json

{
  "teamTag": "IA",
  "timestamp": "2025-11-20T15:04:00Z",
  "payloadJson": "{\"metric\":\"model_recall\",\"value\":0.88,\"model\":\"v2.1\",\"class\":\"anomaly\",\"dataset\":\"test\"}"
}

###

### IA: Enviar F1 Score
POST {{baseUrl}}/otel/v1/metrics
X-API-KEY: {{iaApiKey}}
Content-Type: application/json

{
  "teamTag": "IA",
  "timestamp": "2025-11-20T15:05:00Z",
  "payloadJson": "{\"metric\":\"model_f1_score\",\"value\":0.90,\"model\":\"v2.1\",\"dataset\":\"test\"}"
}

###

### IA: Enviar Detec√ß√£o de Drift
POST {{baseUrl}}/otel/v1/metrics
X-API-KEY: {{iaApiKey}}
Content-Type: application/json

{
  "teamTag": "IA",
  "timestamp": "2025-11-20T15:06:00Z",
  "payloadJson": "{\"metric\":\"model_drift_score\",\"value\":0.23,\"model\":\"v2.1\",\"method\":\"kullback_leibler\",\"threshold\":0.3,\"feature\":\"user_age\"}"
}

###

### IA: Enviar Uso de GPU
POST {{baseUrl}}/otel/v1/metrics
X-API-KEY: {{iaApiKey}}
Content-Type: application/json

{
  "teamTag": "IA",
  "timestamp": "2025-11-20T15:07:00Z",
  "payloadJson": "{\"metric\":\"gpu_usage_percent\",\"value\":78.5,\"model\":\"v2.1\",\"gpu_id\":0}"
}

###

### IA: Enviar Mem√≥ria Utilizada
POST {{baseUrl}}/otel/v1/metrics
X-API-KEY: {{iaApiKey}}
Content-Type: application/json

{
  "teamTag": "IA",
  "timestamp": "2025-11-20T15:08:00Z",
  "payloadJson": "{\"metric\":\"memory_usage_mb\",\"value\":2048,\"model\":\"v2.1\",\"total_memory_mb\":8192}"
}

###

### ========================================
### üö® ALERTAS - IA COM GPT-4
### ========================================

### IA: Alerta de Drift Detectado
POST {{baseUrl}}/alerts
X-API-KEY: {{iaApiKey}}
Content-Type: application/json

{
  "teamTag": "IA",
  "type": "DRIFT",
  "message": "Drift detectado no modelo v2.1 - acur√°cia caiu para 0.75 (limite: 0.80). Feature 'user_age_distribution' apresenta mudan√ßa significativa. Retrainamento autom√°tico ser√° disparado."
}

###

### IA: Alerta de Erro em Predi√ß√£o
POST {{baseUrl}}/alerts
X-API-KEY: {{iaApiKey}}
Content-Type: application/json

{
  "teamTag": "IA",
  "type": "MODEL_ERROR",
  "message": "Erro em predi√ß√£o detectado: 42 requisi√ß√µes retornaram NaN (3.2% do total). Input data pode conter valores inv√°lidos. Verificar pipeline de pr√©-processamento."
}

###

### IA: Alerta de Servi√ßo Offline
POST {{baseUrl}}/alerts
X-API-KEY: {{iaApiKey}}
Content-Type: application/json

{
  "teamTag": "IA",
  "type": "SERVICE_DOWN",
  "message": "Servi√ßo de infer√™ncia offline por 5 minutos. √öltimo heartbeat: 2025-11-20T15:10:00Z. Status HTTP: 503. Tentando reconectar..."
}

###

### IA: Alerta Customizado - Consumo Alto de GPU
POST {{baseUrl}}/alerts
X-API-KEY: {{iaApiKey}}
Content-Type: application/json

{
  "teamTag": "IA",
  "type": "CUSTOM",
  "message": "Consumo de GPU acima do normal: 92% (threshold: 80%). Poss√≠vel fila de predi√ß√µes acumulada. Considerar escalar recursos ou distribuir carga."
}

###

### IA: Alerta Customizado - Memory Leak
POST {{baseUrl}}/alerts
X-API-KEY: {{iaApiKey}}
Content-Type: application/json

{
  "teamTag": "IA",
  "type": "CUSTOM",
  "message": "Poss√≠vel memory leak detectado: mem√≥ria crescendo linearmente sem picos de carga correspondentes. Investigar processes de limpeza de recursos."
}

###

### ========================================
### üì• LISTAR M√âTRICAS
### ========================================

### Listar √öltimas M√©tricas IoT
GET {{baseUrl}}/export/metrics?teamTag=IOT&page=0&size=20&sort=timestamp,desc
X-API-KEY: {{iotApiKey}}

###

### Listar √öltimas M√©tricas IA
GET {{baseUrl}}/export/metrics?teamTag=IA&page=0&size=20&sort=timestamp,desc
X-API-KEY: {{iaApiKey}}

###

### Listar Todas as M√©tricas (p√°gina 0)
GET {{baseUrl}}/export/metrics?page=0&size=50&sort=timestamp,desc
X-API-KEY: {{iaApiKey}}

###

### ========================================
### üì• LISTAR ALERTAS
### ========================================

### Listar Alertas do Time IA
GET {{baseUrl}}/alerts?teamTag=IA&page=0&size=20
X-API-KEY: {{iaApiKey}}

###

### Listar Todos os Alertas
GET {{baseUrl}}/alerts?page=0&size=50
X-API-KEY: {{iaApiKey}}

###

### ========================================
### üîî RESOLVER ALERTAS
### ========================================

### Resolver Alerta (exemplo: ID=1)
PUT {{baseUrl}}/alerts/1/resolve
X-API-KEY: {{iaApiKey}}

###

### ========================================
### üì§ EXPORTAR PARA SIGNOZ
### ========================================

### Exportar M√©tricas para SigNoz
GET {{baseUrl}}/export/metrics?page=0&size=100
X-API-KEY: {{iaApiKey}}

###

### Exportar Traces para SigNoz
GET {{baseUrl}}/export/traces?page=0&size=100
X-API-KEY: {{iaApiKey}}

###

### Exportar Logs para SigNoz
GET {{baseUrl}}/export/logs?page=0&size=100
X-API-KEY: {{iaApiKey}}

###

### ========================================
### üß™ BATCH - Simular M√∫ltiplas Leituras
### ========================================

### Simular Sensor IoT - Leitura Cont√≠nua (5 pontos)

POST {{baseUrl}}/otel/v1/metrics
X-API-KEY: {{iotApiKey}}
Content-Type: application/json

{
  "teamTag": "IOT",
  "timestamp": "2025-11-20T16:00:00Z",
  "payloadJson": "{\"metric\":\"temperature\",\"value\":20.1,\"sensor\":\"DHT22\",\"location\":\"sala-1\"}"
}

###

POST {{baseUrl}}/otel/v1/metrics
X-API-KEY: {{iotApiKey}}
Content-Type: application/json

{
  "teamTag": "IOT",
  "timestamp": "2025-11-20T16:01:00Z",
  "payloadJson": "{\"metric\":\"temperature\",\"value\":21.3,\"sensor\":\"DHT22\",\"location\":\"sala-1\"}"
}

###

POST {{baseUrl}}/otel/v1/metrics
X-API-KEY: {{iotApiKey}}
Content-Type: application/json

{
  "teamTag": "IOT",
  "timestamp": "2025-11-20T16:02:00Z",
  "payloadJson": "{\"metric\":\"temperature\",\"value\":22.8,\"sensor\":\"DHT22\",\"location\":\"sala-1\"}"
}

###

POST {{baseUrl}}/otel/v1/metrics
X-API-KEY: {{iotApiKey}}
Content-Type: application/json

{
  "teamTag": "IOT",
  "timestamp": "2025-11-20T16:03:00Z",
  "payloadJson": "{\"metric\":\"temperature\",\"value\":23.5,\"sensor\":\"DHT22\",\"location\":\"sala-1\"}"
}

###

POST {{baseUrl}}/otel/v1/metrics
X-API-KEY: {{iotApiKey}}
Content-Type: application/json

{
  "teamTag": "IOT",
  "timestamp": "2025-11-20T16:04:00Z",
  "payloadJson": "{\"metric\":\"temperature\",\"value\":24.2,\"sensor\":\"DHT22\",\"location\":\"sala-1\"}"
}

###

